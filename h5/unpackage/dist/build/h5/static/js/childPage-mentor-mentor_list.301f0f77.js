(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childPage-mentor-mentor_list"],{"07f5":function(t,i,e){"use strict";e.r(i);var n=e("6532"),a=e("5b89");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("6e4a");var s=e("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7682609a",null,!1,n["a"],void 0);i["default"]=l.exports},3789:function(t,i,e){"use strict";(function(t){e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("4e82"),e("d81d"),e("14d9"),e("e9c4");var n=e("88f6"),a={data:function(){return{list:[{id:1,name:"推荐导师"},{id:2,name:"我的专属导师"}],infoList:[],myList:[],me_type:1,creatImg:t.baseImg+"/xcx/f0785792-267f-472b-b9aa-8144328cf9a4.jpg",sort:0,me_id:0,tutor_id:""}},components:{},onLoad:function(t){t.sort&&(this.sort=t.sort,this.me_id=t.me_id,this.tutor_id=t.tutor_id)},onShow:function(){this.getTutor()},methods:{getTutor:function(){var t=this,i=JSON.parse(uni.getStorageSync("userInfo")),e="";1==this.me_type?(e={is_built_in:"1"},(0,n.getTutor)(e).then((function(i){2e4==i.code?t.infoList=i.data:t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取导师失败")}))):(e={user_id:i.user_id},(0,n.getMe)(e).then((function(i){if(2e4==i.code){if(i.data.length>0){var e=[];i.data.map((function(t,i){e.push(t.me_id)})),t.getAllMe(e)}}else t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取导师失败")})))},getAllMe:function(t){var i=this,e=(JSON.parse(uni.getStorageSync("userInfo")),{me_ids:JSON.stringify(t)});(0,n.getAllMe)(e).then((function(t){2e4==t.code?t.data.length>0&&(i.myList=t.data):i.$api.msg(t.msg)})).catch((function(t){i.$api.msg("获取导师失败")}))},toDetail:function(t){uni.navigateTo({url:"/childPage/mentor/add_list?tutor_id="+t})},tabsChange:function(t){this.me_type=t.id,this.getTutor()},toCreate:function(){uni.navigateTo({url:"/childPage/mentor/add_list?me_id="+this.me_id+"&sort="+this.sort+"&edit_id="+this.tutor_id})},getImgUrl:function(i){return t.baseImg+"/"+i},delMentor:function(t,i){var e=this;uni.showModal({title:"提示",content:"确定删除该导师吗？",success:function(n){n.confirm&&e.delCont(t,i)}})},delCont:function(t,i){var e=this,a=JSON.parse(uni.getStorageSync("userInfo")),o={user_id:a.user_id,tutor_id:t,me_id:i};(0,n.delTutor)(o).then((function(t){2e4==t.code?(e.$api.msg("删除成功"),e.getTutor()):e.$api.msg(t.msg)}))},selectRole:function(t,i){var e=this;uni.showModal({title:"提示",content:"确定更换为该导师吗？",success:function(n){n.confirm&&(""!=this.tutor_id?e.editRole(t,i):e.addRole(t,i,""))}})},editRole:function(t,i){var e=this;uni.showLoading({title:"更换中..."});var a=JSON.parse(uni.getStorageSync("userInfo")),o={user_id:a.user_id,me_id:this.me_id,tutor_id:this.tutor_id,status:0};(0,n.editTutor)(o).then((function(n){2e4==n.code?e.addRole(t,i,e.tutor_id):(e.$api.msg(n.msg),uni.hideLoading())})).catch((function(t){e.$api.msg("更换失败"),uni.hideLoading()}))},addRole:function(t,i,e){var a=this,o=JSON.parse(uni.getStorageSync("userInfo")),s={user_id:o.user_id,avatar:t.avatar,character_name:t.character_name,greeting:t.greeting,implicit_hint:t.implicit_hint,introduction:t.introduction,influence:t.influence,document:t.document,image:t.image,website:t.website,me_id:this.me_id,sort:this.sort,extend:t.extend,unbinded_tutor_id:e};(0,n.creatTutor)(s).then((function(t){2e4==t.code?(a.$api.msg("更换成功"),setTimeout((function(){uni.switchTab({url:"/pages/index/index"})}),1500),uni.hideLoading()):(a.$api.msg(t.msg),uni.hideLoading())})).catch((function(t){a.$api.msg("更换失败"),uni.hideLoading()}))},mentorChat:function(t,i,e,n){uni.navigateTo({url:"/childPage/mentor/mentor_chat?imgUrl="+t+"&greet="+i+"&me_id="+e+"&tutor_id="+n})}}};i.default=a}).call(this,e("c8ba"))},"5b09":function(t,i,e){var n=e("fc0a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("2d5181b6",n,!0,{sourceMap:!1,shadowMode:!1})},"5b89":function(t,i,e){"use strict";e.r(i);var n=e("3789"),a=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},6532:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={uTabs:e("89bb").default,uIcon:e("b322").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"cont_top"},[e("v-uni-view",{staticClass:"top_l"},[e("u-tabs",{attrs:{list:t.list,lineWidth:"40",lineHeight:"2",lineColor:"#1f64ff",activeStyle:{color:"#000","font-size":"30rpx"},inactiveStyle:{"font-size":"30rpx",color:"#6F6F6F"}},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.tabsChange.apply(void 0,arguments)}}})],1)],1),1==t.me_type?e("v-uni-view",[t.infoList.length>0?e("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.infoList,(function(i,n){return e("v-uni-view",{key:n,staticClass:"cont_list"},[e("v-uni-view",{staticClass:"list_li"},[e("v-uni-view",{staticClass:"li_line"},[e("v-uni-image",{staticClass:"li_img",attrs:{mode:"aspectFit",src:t.getImgUrl(i.avatar)}}),e("v-uni-text",{staticClass:"li_title"},[t._v(t._s(i.character_name))])],1),e("v-uni-view",{staticClass:"li_cont"},[t._v(t._s(i.introduction))]),e("v-uni-view",{staticClass:"li_edit"},[e("v-uni-view",{staticClass:"edit_l",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.mentorChat(i.avatar,i.greeting,i.me_id,i.tutor_id)}}},[t._v("对话")]),e("v-uni-view",{staticClass:"edit_r",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.selectRole(i,1)}}},[t._v("选择导师")])],1)],1)],1)})),1):t._e(),0==t.infoList.length?e("v-uni-view",{staticClass:"on_order"},[e("v-uni-view",{staticClass:"on_order_list"},[t._v("暂无相关内容")])],1):t._e()],1):t._e(),2==t.me_type?e("v-uni-view",[t.myList.length>0?e("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.myList,(function(i,n){return e("v-uni-view",{key:n,staticClass:"ul_li"},[e("v-uni-view",{staticClass:"li_me"},[t._v(t._s(i.me.name))]),t._l(i.tutor,(function(i,n){return"{}"!=JSON.stringify(i)?e("v-uni-view",{key:n,staticClass:"cont_list"},[e("v-uni-view",{staticClass:"list_li",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetail(i.tutor_id)}}},[e("v-uni-view",{staticClass:"li_lines"},[e("v-uni-view",{staticClass:"line_l"},[e("v-uni-image",{staticClass:"li_img",attrs:{mode:"aspectFit",src:t.getImgUrl(i.avatar)}}),e("v-uni-text",{staticClass:"li_title"},[t._v(t._s(i.character_name))])],1),e("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.delMentor(i.tutor_id,i.me_id)}}},[e("u-icon",{attrs:{name:"trash",size:"20"}})],1)],1),e("v-uni-view",{staticClass:"li_cont"},[t._v(t._s(i.introduction))]),e("v-uni-view",{staticClass:"li_edit"},[e("v-uni-view",{staticClass:"edit_l",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.mentorChat(i.avatar,i.greeting,i.me_id,i.tutor_id)}}},[t._v("对话")]),e("v-uni-view",{staticClass:"edit_r",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.selectRole(i,0)}}},[t._v("选择导师")])],1)],1)],1):t._e()}))],2)})),1):t._e(),0==t.myList.length?e("v-uni-view",{staticClass:"on_order"},[e("v-uni-view",{staticClass:"on_order_list"},[t._v("暂无相关内容")])],1):t._e()],1):t._e(),e("v-uni-view",{staticClass:"wz_tip",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toCreate.apply(void 0,arguments)}}},[e("v-uni-image",{staticClass:"creat_img",attrs:{src:t.creatImg,mode:""}})],1)],1)},o=[]},"6e4a":function(t,i,e){"use strict";var n=e("5b09"),a=e.n(n);a.a},fc0a:function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,"uni-page-body[data-v-7682609a]{background:#f6f8fb}body.?%PAGE?%[data-v-7682609a]{background:#f6f8fb}.cont_top[data-v-7682609a]{width:100%;padding:%?20?%;display:flex;align-items:center;justify-content:space-between;border-bottom:%?1?% solid #e6e6e8;position:fixed;top:0;z-index:9;background:#fff}.cont_top .top_r[data-v-7682609a]{color:#6c6c6c;font-size:%?30?%;font-weight:400;line-height:%?48?%}.cont_list[data-v-7682609a]{width:100%;padding:%?20?%;display:flex;flex-direction:column}.cont_list .list_li[data-v-7682609a]{display:flex;background:#fff;border-radius:%?6?%;flex-direction:column;padding:%?20?%}.cont_list .list_li .li_line[data-v-7682609a]{display:flex;align-items:center}.cont_list .list_li .li_lines[data-v-7682609a]{display:flex;align-items:center;justify-content:space-between}.cont_list .list_li .li_lines .line_l[data-v-7682609a]{display:flex;align-items:center}.cont_list .list_li .li_lines .del_img[data-v-7682609a]{width:%?40?%;height:%?40?%}.cont_list .list_li .li_img[data-v-7682609a]{width:%?48?%;height:%?48?%;border-radius:50%}.cont_list .list_li .li_title[data-v-7682609a]{color:#000;font-size:%?32?%;font-style:normal;font-weight:500;line-height:%?48?%;width:70%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:%?15?%}.cont_list .list_li .li_cont[data-v-7682609a]{color:#6d7191;font-size:%?26?%;font-style:normal;font-weight:400;line-height:%?52?%;padding:%?15?% 0;border-bottom:%?1?% solid #edeef7}.cont_btn[data-v-7682609a]{width:100%;height:%?100?%;display:flex;align-items:center;justify-content:center;position:fixed;bottom:0}.cont_btn .btn_del[data-v-7682609a]{width:80%;border-radius:%?10?%;background:#ff4533;padding:%?20?%;font-size:%?32?%;color:#fff;display:flex;align-items:center;justify-content:center}.on_order[data-v-7682609a]{display:flex;align-items:center;justify-content:center;height:80vh;width:100vw}.on_order_list[data-v-7682609a]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.voice_info[data-v-7682609a]{width:100%;height:15vh;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:%?20?%}.voice_info .info_li[data-v-7682609a]{width:100%;font-size:%?30?%;color:#1f64ff;line-height:%?90?%;text-align:center}.li_edit[data-v-7682609a]{display:flex;align-items:center;justify-content:flex-end;padding-top:%?20?%}.li_edit .edit_l[data-v-7682609a]{color:#1f64ff;font-size:%?28?%;line-height:%?45?%;font-style:normal;font-weight:500;display:flex;align-items:center;justify-content:center;flex:1}.li_edit .edit_r[data-v-7682609a]{color:#1f64ff;font-size:%?28?%;line-height:%?45?%;font-style:normal;font-weight:500;display:flex;align-items:center;justify-content:center;flex:1;border-left:%?1?% solid #edeef7}.wz_tip[data-v-7682609a]{position:fixed;bottom:%?100?%;right:%?50?%;z-index:10}.wz_tip .creat_img[data-v-7682609a]{width:%?100?%;height:%?100?%}.ul_li[data-v-7682609a]{padding:%?20?% 0;border-bottom:%?2?% solid #edeef7}.ul_li .li_me[data-v-7682609a]{padding-left:%?20?%;color:#000;font-size:%?32?%;font-style:normal;font-weight:500;line-height:150%;border-bottom:%?2?% solid #edeef7}.list_ul[data-v-7682609a]{padding:%?130?% 0 %?50?% 0}",""]),t.exports=i}}]);